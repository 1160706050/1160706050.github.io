<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft | 微软登陆</title>

    <!-- 为 UI 组件添加 Bootstrap 4  -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="/">微软身份认证平台</a>
        <div class="btn-group ml-auto dropleft">
            <a
                href="https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize?
                      client_id=af5f7297-9146-4210-934d-5e71aaf55d6a
                      &response_type=code
                      &redirect_uri=3584b9fd-9b06-4bd1-9ece-9b4bd336fd35
                      &scope=XboxLive.signin%20offline_access%20openid%20email
                      &prompt=select_account
                      &response_mode=fragment">
                <button type="button" id="SignIn" class="btn btn-secondary">
                    登陆
                </button>
            </a>

        </div>
    </nav>


    <div class="card-header text-center">

        <Br>
        <h3>
            您的登录代码为： <a id="code">待获取</a>
        </h3>
        <br>



        <p>
            将代码复制并粘贴到客户端。 <strong>请妥善保管！</strong>
        </p>

    </div>

    <script>

        let rawHash = window.location.hash;
        if (rawHash !== '') {
            // Remove the leading #
            rawHash = rawHash.substring(1);
        }
        let hash = new URLSearchParams(rawHash);
        let query = new URLSearchParams(window.location.search);

        if (hash.has('error') || query.has('error')) {
            // Error occurred
            let errorMessage = hash.get('error') || query.get('error')
            errorMessage += "\n\n" + (hash.get('error_description') || query.get('error_description'))
            displayError(errorMessage);
        } else {
            // Get code
            if (hash.has('code')) {
                var code_obj = document.getElementById("code");
                code_obj.innerHTML = hash.get('code');
                displayCode();
            } else {

            }
        }







    </script>
</body>

</html>
